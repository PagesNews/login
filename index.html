<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<title>Salud Felina | Panleucopenia</title>

<style>
/* ===================== RESET ===================== */
*{margin:0;padding:0;box-sizing:border-box}

/* ===================== BODY ===================== */
body{
  font-family:Arial, Helvetica, sans-serif;
  background:#f4f7f6;
  color:#333;
}

/* ===================== HEADER ===================== */
header{
  background:#cfe8df;
  padding:60px 20px;
  text-align:center;
}

header h1{font-size:36px}
header p{max-width:800px;margin:15px auto;font-size:18px}

/* ===================== SECTIONS ===================== */
section{
  max-width:1100px;
  margin:auto;
  padding:40px 20px;
}

.card{
  background:white;
  border-radius:18px;
  padding:35px;
  margin-bottom:40px;
  box-shadow:0 10px 25px rgba(0,0,0,.08);
}

.grid{
  display:grid;
  grid-template-columns:1fr 1fr;
  gap:30px;
}

.grid img{
  width:100%;
  max-height:320px;
  object-fit:cover;
  border-radius:14px;
}

/* ===================== FORMS ===================== */
input,button{
  width:100%;
  padding:14px;
  margin-top:10px;
  font-size:16px;
  border-radius:10px;
}

input{border:1px solid #ccc}
button{
  border:none;
  background:#6bb9a7;
  color:white;
  cursor:pointer;
}
button:hover{background:#5aa393}

.success{color:green}
.error{color:red}

/* ===================== CHAT ===================== */
.chat{
  border:1px solid #ccc;
  border-radius:12px;
  padding:15px;
  max-height:300px;
  overflow-y:auto;
  background:#fafafa;
}

.chat div{margin-bottom:10px}

/* ===================== HIDDEN ===================== */
.hidden{display:none}

/* ===================== FOOTER ===================== */
footer{
  background:#dcefe8;
  padding:25px;
  text-align:center;
}
</style>
</head>

<body>

<header>
<h1>Protejamos a Nuestros Gatos </h1>
<p>Informaci贸n responsable para prevenir la panleucopenia felina.</p>
</header>

<section>

<!-- ===================== REGISTRO ===================== -->
<div class="card" id="authCard">
<h2>Registro / Inicio de sesi贸n</h2>

<input id="authEmail" placeholder="Correo electr贸nico">
<input id="authPass" type="password" placeholder="Contrase帽a">

<button onclick="registrar()">Registrarse</button>
<button onclick="login()">Iniciar sesi贸n</button>

<p id="authMsg"></p>

<p style="margin-top:10px;font-size:14px">
锔 Login con Google/Facebook disponible en versi贸n Firebase
</p>
</div>

<!-- ===================== CONTENIDO BLOQUEADO ===================== -->
<div class="card hidden" id="contenido">
<h2>Informaci贸n detallada</h2>

<div class="grid">
  <div>
    <p>
    La panleucopenia es una enfermedad viral grave que ataca el sistema
    inmunol贸gico de los gatos, especialmente en edades tempranas.
    </p>
    <ul>
      <li>Alta mortalidad sin tratamiento</li>
      <li>Virus resistente en el ambiente</li>
      <li>Vacunaci贸n es clave</li>
    </ul>
  </div>
  <img src="https://images.unsplash.com/photo-1518791841217-8f162f1e1131?auto=format&fit=crop&w=900&q=80">
</div>
</div>

<!-- ===================== ASISTENTE ===================== -->
<div class="card hidden" id="assistantCard">
<h2>Asistente informativo</h2>

<div class="chat" id="chat"></div>
<input id="q" placeholder="Pregunta y presiona Enter">
</div>

<!-- ===================== ADMIN ===================== -->
<div class="card hidden" id="admin">
<h2>Panel administrador</h2>
<div id="listaCorreos"></div>
</div>

</section>

<footer>
Proyecto educativo 
</footer>

<script>
/* ===================== UTILIDADES ===================== */
function getUsers(){return JSON.parse(localStorage.getItem("users")||"[]")}
function setUsers(u){localStorage.setItem("users",JSON.stringify(u))}

/* ===================== REGISTRO ===================== */
function registrar(){
  const email=authEmail.value.trim()
  const pass=authPass.value.trim()
  const msg=authMsg

  if(!email || !pass){
    msg.textContent="Completa todos los campos"
    msg.className="error"
    return
  }

  let users=getUsers()
  if(users.find(u=>u.email===email)){
    msg.textContent="Usuario ya existe"
    msg.className="error"
    return
  }

  users.push({email,pass})
  setUsers(users)

  msg.textContent="Registro exitoso"
  msg.className="success"
}

/* ===================== LOGIN ===================== */
function login(){
  const email=authEmail.value.trim()
  const pass=authPass.value.trim()
  const users=getUsers()

  const ok=users.find(u=>u.email===email && u.pass===pass)
  if(!ok){
    authMsg.textContent="Credenciales incorrectas"
    authMsg.className="error"
    return
  }

  localStorage.setItem("session",email)
  iniciarSesion()
}

/* ===================== SESIN ===================== */
function iniciarSesion(){
  authCard.classList.add("hidden")
  contenido.classList.remove("hidden")
  assistantCard.classList.remove("hidden")
}

/* ===================== ADMIN ===================== */
document.addEventListener("keydown",e=>{
  if(e.ctrlKey && e.shiftKey && e.key==="A"){
    admin.classList.toggle("hidden")
    cargarCorreos()
  }
})

function cargarCorreos(){
  const users=getUsers()
  listaCorreos.innerHTML=""
  users.forEach(u=>{
    listaCorreos.innerHTML+=`<div>${u.email}</div>`
  })
}

/* ===================== ASISTENTE ===================== */
const conocimiento={
  sintomas:"Los s铆ntomas incluyen v贸mitos, diarrea, fiebre y decaimiento.",
  vacuna:"La vacuna es la mejor prevenci贸n y debe aplicarse desde cachorro.",
  contagio:"Se transmite por superficies, heces y contacto indirecto.",
  cura:"No existe cura directa, pero el tratamiento temprano salva vidas."
}

q.addEventListener("keydown",e=>{
  if(e.key==="Enter"){
    let t=q.value.toLowerCase()
    chat.innerHTML+=`<div><b>T煤:</b> ${t}</div>`
    let r="Consulta a tu veterinario para casos espec铆ficos."
    Object.keys(conocimiento).forEach(k=>{
      if(t.includes(k)) r=conocimiento[k]
    })
    chat.innerHTML+=`<div><b>Asistente:</b> ${r}</div>`
    chat.scrollTop=chat.scrollHeight
    q.value=""
  }
})

/* ===================== AUTO LOGIN ===================== */
if(localStorage.getItem("session")){
  iniciarSesion()
}
</script>

</body>
</html>
